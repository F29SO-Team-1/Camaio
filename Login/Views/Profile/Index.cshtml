@using Microsoft.AspNetCore.Identity
@using Login.Areas.Identity.Data
@model Login.Models.ApplicationUser.ProfileModel

@inject SignInManager<LoginUser> SignInManager
@inject UserManager<LoginUser> UserManager
<header>
    <h1 style="text-align:center"> @ViewData["Title"]</h1>
    <link rel="stylesheet" type="text/css" href="./css/site.css" media="screen" />

</header>
<body>
    <div class="container">
        <div class="row m-b-r m-t-3">
            <div class="col-sm col1">
                <div class="row userProfile">
                    <div class="col-md-4">
                        <div id="userProfileImage" class="img-circle img-fluid" style="background-image: url(@Model.ProfileImageUrl)"></div>
                        @if (User.Identity.Name == Model.Username)
                        {
                            <form method="post" enctype="multipart/form-data" asp-controller="Profile" asp-action="UploadProfileImage">
                                <div id="form-group">
                                    <div class="form-group">
                                        <label asp-for="ProfileImageUrl"></label>
                                        <span asp-validation-for="ProfileImageUrl"></span>
                                        <input asp-for="ProfileImageUrl" type="file" id="file" name="file" />
                                    </div>
                                    <button type="submit" id="submitProfilePicBtn" class="btn btn-submitProfilePic">
                                        Submit
                                    </button>
                                </div>
                            </form>
                        }
                    </div>
                    @*<div class="container">
                        <div class="col-md-2">
                            <table>
                                @foreach (var thread in Model.Threads)
                                {
                                    <tr>
                                        <th>
                                            @thread.Title
                                        </th>
                                        <th>
                                            @thread.Description
                                        </th>
                                        <th>
                                            @thread.Created
                                        </th>
                                    </tr>
                                }
                            </table>
                        </div>
                    </div>*@
                </div>
            </div>
            <br>
            @if (SignInManager.IsSignedIn(User)){
                <p class="text-center">My profile</p>
            }
            else{
                <p class="text-center">Welcome to My profile</p>
            }

            <div class="span6"></div>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link" href="#"><p>My pictures</p></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"><p>My albums</p></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"><p>Comments</p></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"><p>Analytics</p></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"><p>Analytics</p></a>
                </li>
            </ul>
        </div>
        <div class="col">
            <div class="container"></div>
            <div class="container"></div>
        </div>
    </div>
</body>
