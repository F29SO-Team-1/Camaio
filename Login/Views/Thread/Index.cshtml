@model Login.Models.Threadl.ThreadModel

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-ajax-unobtrusive@3.2.6/dist/jquery.unobtrusive-ajax.min.js"></script>
}

<h1>Threads</h1>
<script>
    $(document).ready(function () {
        console.log("pressed");
        $("#likeBtn").click(function () {
            console.log("pressed");
            $("#likesNumber").load("/Thread/RatingIncrement");
        });
    });
</script>
<a class="nav-link text-dark" asp-area="" asp-controller="Thread" asp-action="Create">Create New Thread</a>
<div class="card-deck">
    <p>Title : @Model.Title</p>
    <p>Created : @Model.Created</p>
    <p>Description : @Model.Description</p>
    <div id="userProfileImage" style="background-image: url(@Model.Picture)"></div>
    <a asp-action="Edit" asp-route-threadId="@Model.Id">|Edit|</a>


    <a 
       data-ajax="true" 
       data-ajax-mode="replace" 
       data-ajax-update="#likesNumber" 
       data-ajax-url="@Url.Page("Index", "ServerDate")" ></a>
    <button type="button" id="likeBtn">Like</button>

    Description :
    <div id="likesNumber">
        <p>@Model.Rating</p>
    </div>


</div>
